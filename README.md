# Custom Node Exporter for Prometheus

## Описание проекта

Этот проект представляет собой Bash-скрипт, который собирает базовую информацию о системе по метрикам, таким как ЦПУ, оперативная память и диск, и формирует HTML-страницу в формате, совместимом с Prometheus. Страница обновляется каждые 3 секунды и предоставляет актуальные данные для мониторинга системы.

## Используемые инструменты

- **Bash**: Скрипт написан на языке Bash для сбора информации о системе.
- **Nginx**: Веб-сервер Nginx используется для предоставления HTML-страницы с метриками системы.
- **Prometheus**: Конфигурационный файл Prometheus настраивается для сбора данных с созданной страницы.

## Настройка Nginx

Измените файл конфигурации Nginx (обычно `nginx.conf`), чтобы он слушал порт 8100 и отдавал нужную страницу метрик. Например:

```nginx
server {
    listen 8100;

    location /metrics {
        root /etc/nginx/mysite/metrics; # Путь к директории с вашей страницей метрик
    }
} 
```
## Запуск скрипта

Для удобства рекомендуется запускать скрипт в фоновом режиме. Используйте следующую команду:

```bash
bash metrics-collector.sh &
```

## Настройка Prometheus

Добавьте новый target в файл конфигурации Prometheus (`prometheus.yml`). После этого перезапустите сервис Prometheus для применения изменений.

Пример конфигурации `prometheus.yml`:

```yaml
scrape_configs:
  - job_name: 'custom_node_exporter'
    scrape_interval: 3s
    static_configs:
      - targets: ['localhost:8100'] # Порт, который слушает Nginx с вашей страницей метрик
```

## Просмотр добавленного target

После перезапуска Prometheus можно увидеть новый target на странице `localhost:9090/targets`.

## Визуализация метрик с помощью Grafana

Теперь метрики можно визуализировать в Grafana и наслаждаться красивыми графиками!
